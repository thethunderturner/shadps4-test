---
import Layout from '@/layouts/Layout.astro';
import {Image} from 'astro:assets';
import type {ImageMetadata} from 'astro';
const imageFiles = import.meta.glob<{default: ImageMetadata}>('@/assets/images/gallery/*.{jpeg,jpg,png,gif}', {
    eager: true,
});
const galleryImages = Object.values(imageFiles).map(file => file.default);
---

<Layout title="Photos">
    <p class="text-left text-black dark:text-gray-400">
        A collection of snapshots ({galleryImages.length} images)
    </p>

    <div class="grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
        {
            galleryImages.map((image, index) => (
                <div class="break-inside-avoid overflow-hidden rounded-lg transition-transform duration-300 hover:scale-[1.02] hover:shadow-xl">
                    <Image src={image} alt={index.toString()} width={600} quality={80} loading="eager" class="aspect-video h-auto w-full object-cover" />
                </div>
            ))
        }
    </div>

    {galleryImages.length === 0 && <div class="py-20 text-center text-black dark:text-gray-400">No images found :(</div>}
</Layout>
