---
import {getCollection} from 'astro:content';
import MarkdownLayout from '../../layouts/MarkdownLayout.astro';
import YoutubeEmbed from '../../components/mdx/YoutubeEmbed.astro';
import Code from '../../components/mdx/Code.astro';
import Blockquote from '../../components/mdx/Blockquote.astro';

export async function getStaticPaths() {
    const blogEntries = await getCollection('blog');
    return blogEntries.map(entry => ({
        params: {slug: entry.slug},
        props: {entry},
    }));
}

const {entry} = Astro.props;
const {Content, headings} = await entry.render();
---

<MarkdownLayout frontmatter={entry.data} headings={headings}>
    <Content components={{pre: Code, Blockquote, YoutubeEmbed}} />
</MarkdownLayout>
