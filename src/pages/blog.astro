---
import Layout from '../layouts/Layout.astro';
import BlogPage from '../components/blog/BlogPage.tsx';
import {getCollection} from 'astro:content';

const posts = await getCollection('blog');

// sort by date
const sortedPosts = posts.sort((a, b) => new Date(b.data.pubDate).valueOf() - new Date(a.data.pubDate).valueOf());
---

<Layout title="Blog">
    <BlogPage client:load posts={sortedPosts} />
</Layout>
